\section{Cloud Database}

Cloud computing and cloud hosted databases outsources the management of hardware and software resources to the network. This allows the customer to treat it as a utility, which provides him with massive advantages \cite{zhao2013framework}
\begin{itemize}
    \item Elasticity of resources
    \item Pay-as-you-go pricing model
    \item Unlimited ressources
    \item Inifite scaling
\end{itemize}

Similar to locally hosted database systems, cloud hosted database systems offer many different types. The three generic terms are platform storage service (NoSQL systems), relational database as a service (DaaS) and virtualized database servers \cite{zhao2013framework}.

\subsubsection{Platform Storage Service}
NoSQL systems are designed for high throughput and high availability. This is only possible by giving up features relational database systems adhere to. Mainly simpler query level, no standardized query language and do not fulfill ACID properties \cite{zhao2013framework}. They provide BASE properties, which includes for example eventual consistency, meaning a weaker consistency management protocol \cite{zhao2013framework}. Firebase Realtime Database and Firebase Cloud Firestore are both NoSQL database systems, though there are also systems which can be hosted locally, for example MongoDB. 

\subsubsection{Relational Database as a Service}
A third party service provides a relational database and manages all maintenance, replication and upgrade options for their users \cite{zhao2013framework}. This frees the customer from buying a server, networking and applying patches to the database software. Two offerings are Amazon Web Services Relational Database System, which opens up MySQL, PostgreSQL and others to the customer. Additionally there are replication, snapshot and performance upgrade available, each costing an additional amount of money. The other is Microsoft SQL Azure. By choosing this approach the customer can use all the benefits of relational databases and SQL, like complex queries, joins, ACID properties. While still having the path to scale and replication as a simple option. 

\subsubsection{Virtualized Database Server}
\cite{zhao2013framework}
This approach takes an application which has been designed for use in a data center, and puts it on a virtual server in the public cloud. This is beneficial, because the data base system is now able to control the physical resources. The downside with this is, it is necessary to monitor the system usage and acting accordingly.




\subsection{Goals}

As said by \cite{sakr2014cloud}. Cloud databases should achieve at least this 4 goals to be successful.
\begin{itemize}
    \item Availability
    
    They must always be online, even in the case of a network failure or a any other event. This forces the provider to have nodes across different data centers and redundancy.
    
    \item Scalability
    
    They must support high amount of requests, while having low latency. Additionally they must be able to automatically replicate and redistribute data across newly added nodes.
    
    \item Elasticity
    
    They must scale quickly in input as well as output direction.
    
    \item Performance
    
    The consumer pays only for what they actually use. Therefore the provider reduces costs by keeping their system efficient.
\end{itemize}

All this goals ???

\subsection{Challenges}
Database systems are critical to most applications, for this reason they face a lot of challenges to ensure the goals mentioned before.\cite{sakr2014cloud}

\subsubsection{True Elasticity}
Customers expect cloud hosted services to quickly scale up and down to unpredictable workloads. This creates a challenge for the database system and provider as internet scaled applications can have a high amount of users with a high variance of requests. The demand for services occurs depending on time, day and time of year, as well as popularity of the application. Providers overcome this challenge by having a pay-as-you-go pricing model and on-demand allocation of server resources. Therefore cloud database systems should either allow the customer to allocate more or less resources to their application or have the service dynamically scale up or down, to keep the service responsive.

\subsubsection{Data Replication}
The goal of data replication is to increase the availability, scalability and performance of a system. For database systems this is more complex as database should hold consistent data. The CAP theorem allows database systems to only have 2 of its properties. Most cloud database systems provide data replication by loosening up the consistency guarantee \cite{sakr2014cloud}.
\begin{itemize}
    \item Performance
    
    Usually the goal is to improve the read performance or the write performance \cite{cecchet2008middleware}.  A common technique to scale linearly read performance with more nodes is the master-slave pattern. As long as the master is able to handle all writes, each slave offers an additional node to read from \cite{cecchet2008middleware}.
    
    \item Availability
    
    To increase availability it is necessary to decrease downtime. This can be done with Hot-Standby, where a slave is in sync with the master and on failure of the master, the slave takes over preferably no downtime \cite{cecchet2008middleware}. Another option is WAN replication, in this system the replication nodes are asynchronously updated and off site. This reduces the risk against cluster wide disasters \cite{cecchet2008middleware}. 
\end{itemize}


\subsubsection{Live Migration}
\cite{sakr2014cloud}
It increases the efficiency and therefore decreases the operation costs of the provider, because it is the process of moving applications between physical machines. This allows the provider to allocate resources to the application it is needed. The two main benefits are
\begin{itemize}
    \item Performance by moving low demand applications to a low performance system.
    \item Availability by moving applications from systems which are scheduled for maintenance.
\end{itemize}

Their are two main techniques to migrate \cite{sakr2014cloud}
\begin{itemize}
    \item Stop and Copy
    
    This is the simplest form. It works by stopping the database on the source system. Taking a snapshot and moving the snapshot to the destination system. Starting up the database on the destination system. The problem with this approach is the downtime of the database scales linearly with the size of the database.
    
    \item Iterative State Replication
    
    In this approach the source database creates a checkpoint, which is copied to the destination database. The source database keeps serving requests and creating checkpoints for the destination to copy. When the difference between source and destination is small enough, a stop and copy is made and the destination database takes over. This comes at the cost of higher computational resources, as both systems are running for the longer migration process. 
\end{itemize}

